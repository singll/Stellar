# 版本0.4开发计划：漏洞/端口/子域名扫描

## 版本目标
本阶段目标为实现Stellar平台的三大核心安全扫描功能：端口扫描、漏洞扫描、子域名枚举，涵盖后端服务、API接口、前端页面、插件机制、统一任务调度、结果展示与导出等全链路能力，确保功能完整、交互流畅、兼容原项目并具备良好扩展性。

---

## 任务Checklist

### TASK001 端口扫描后端与API实现
- 版本：0.4
- 状态：❓ 架构存在，执行逻辑待完善（25%）
- 子任务：
  - ❓ 端口扫描核心逻辑完善（支持多协议、多端口并发）
  - ✅ 端口扫描任务模型与数据结构设计
  - ❓ 端口扫描API接口实现（创建/进度/结果/历史）
  - ✅ API路由注册与统一响应结构
  - ❌ 与任务调度模块集成
  - ❌ 单元测试与接口测试
- AI提示词-原：
  > 实现Go后端端口扫描服务，支持任务创建、进度查询、结果获取，API需RESTful且兼容原ScopeSentry，任务调度与统一响应结构。
- AI提示词-补充：
  > 需支持高并发、错误处理、任务状态持久化，接口文档需完善。
- 验收标准：
  - 支持端口扫描任务的创建、进度、结果、历史查询
  - API接口RESTful且与前端对接无障碍
  - 任务调度与统一响应结构合规
  - 单元测试覆盖主要逻辑
- 注意事项：
  - 需兼容原项目API参数与响应结构
  - 错误处理与性能优化需到位

### TASK002 端口扫描前端服务与页面
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 新建portscan.ts API服务文件，复用唯一api实例
  - ❌ 实现端口扫描任务创建、进度、结果、历史API方法
  - ❌ 新建(portscan/)页面，含任务表单、进度、结果、历史列表
  - ❌ 复用表格、进度条等组件
  - ❌ 状态管理与UI交互优化
  - ❌ 前后端联调与集成测试
- AI提示词-原：
  > 实现Svelte前端端口扫描页面，支持任务创建、进度展示、结果表格、历史任务，API服务需复用唯一实例。
- AI提示词-补充：
  > 页面交互需流畅，错误与加载状态友好，兼容原项目体验。
- 验收标准：
  - 页面功能完整，交互流畅
  - API服务与后端接口完全对接
  - 组件复用，UI一致
  - 集成测试通过
- 注意事项：
  - 严禁在store中直接调用API
  - 需兼容移动端与响应式设计

### TASK003 漏洞扫描后端与API实现
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 漏洞扫描引擎与插件机制完善
  - ❌ 漏洞扫描任务模型与数据结构设计
  - ❌ 漏洞扫描API接口实现（创建/进度/结果/插件管理）
  - ❌ API路由注册与统一响应结构
  - ❌ 与任务调度、插件机制集成
  - ❌ 单元测试与接口测试
- AI提示词-原：
  > 实现Go后端漏洞扫描服务，支持插件扩展，任务创建、进度、结果、插件管理API，需RESTful且兼容原ScopeSentry。
- AI提示词-补充：
  > 插件需支持动态加载，任务与结果结构需可扩展，接口文档需完善。
- 验收标准：
  - 支持漏洞扫描任务与插件管理全流程
  - API接口RESTful且与前端对接无障碍
  - 插件机制与任务调度集成顺畅
  - 单元测试覆盖主要逻辑
- 注意事项：
  - 插件安全与隔离需考虑
  - 错误处理与性能优化需到位

### TASK004 漏洞扫描插件机制与前端
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 新建vulnscan.ts API服务文件，复用唯一api实例
  - ❌ 实现漏洞扫描任务与插件管理API方法
  - ❌ 新建(vulnscan/)页面，含任务表单、进度、结果、插件管理
  - ❌ 复用表格、进度条、插件管理等组件
  - ❌ 状态管理与UI交互优化
  - ❌ 前后端联调与集成测试
- AI提示词-原：
  > 实现Svelte前端漏洞扫描页面，支持任务创建、进度展示、结果表格、插件管理，API服务需复用唯一实例。
- AI提示词-补充：
  > 页面交互需流畅，插件操作安全，兼容原项目体验。
- 验收标准：
  - 页面功能完整，交互流畅
  - API服务与后端接口完全对接
  - 组件复用，UI一致
  - 集成测试通过
- 注意事项：
  - 严禁在store中直接调用API
  - 插件操作需有安全提示与校验

### TASK005 子域名枚举后端与API实现
- 版本：0.4
- 状态：❓ 架构完整，执行逻辑部分实现（30%）
- 子任务：
  - ❓ 子域名枚举核心逻辑完善（字典爆破、DNS解析等）
  - ✅ 子域名任务模型与数据结构设计
  - ❓ 子域名API接口实现（创建/进度/结果/历史）
  - ✅ API路由注册与统一响应结构
  - ❌ 与任务调度模块集成
  - ❌ 单元测试与接口测试
- AI提示词-原：
  > 实现Go后端子域名枚举服务，支持任务创建、进度查询、结果获取，API需RESTful且兼容原ScopeSentry，任务调度与统一响应结构。
- AI提示词-补充：
  > 支持多种枚举方式，错误处理与性能优化，接口文档需完善。
- 验收标准：
  - 支持子域名任务的创建、进度、结果、历史查询
  - API接口RESTful且与前端对接无障碍
  - 任务调度与统一响应结构合规
  - 单元测试覆盖主要逻辑
- 注意事项：
  - 需兼容原项目API参数与响应结构
  - 错误处理与性能优化需到位

### TASK006 子域名枚举前端服务与页面
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 新建subdomain.ts API服务文件，复用唯一api实例
  - ❌ 实现子域名任务创建、进度、结果、历史API方法
  - ❌ 新建(subdomains/)页面，含任务表单、进度、结果、历史列表
  - ❌ 复用表格、进度条等组件
  - ❌ 状态管理与UI交互优化
  - ❌ 前后端联调与集成测试
- AI提示词-原：
  > 实现Svelte前端子域名枚举页面，支持任务创建、进度展示、结果表格、历史任务，API服务需复用唯一实例。
- AI提示词-补充：
  > 页面交互需流畅，错误与加载状态友好，兼容原项目体验。
- 验收标准：
  - 页面功能完整，交互流畅
  - API服务与后端接口完全对接
  - 组件复用，UI一致
  - 集成测试通过
- 注意事项：
  - 严禁在store中直接调用API
  - 需兼容移动端与响应式设计

### TASK007 统一任务调度与进度管理
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 任务调度模块与各扫描功能深度集成
  - ❌ 统一任务状态、进度、结果数据结构
  - ❌ 前后端任务进度展示一致性优化
  - ❌ 任务队列与并发控制优化
  - ❌ 相关测试用例
- AI提示词-原：
  > 实现统一的任务调度与进度管理，支持多种扫描任务的分发、状态跟踪、结果聚合，前后端进度展示一致。
- AI提示词-补充：
  > 支持分布式扩展，任务异常与重试机制，接口文档需完善。
- 验收标准：
  - 任务调度与进度管理功能完整
  - 各扫描任务均可统一分发与跟踪
  - 前后端进度展示一致
  - 测试用例覆盖主要场景
- 注意事项：
  - 并发与性能需重点关注
  - 任务异常处理需健全

### TASK008 结果展示与导出
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ 结果表格与导出功能（CSV/JSON等）
  - ❌ 结果详情与高亮展示
  - ❌ 结果筛选与分页
  - ❌ 前端导出交互优化
  - ❌ 相关测试用例
- AI提示词-原：
  > 实现扫描结果的多格式导出、详情展示、筛选与分页，前端交互需流畅。
- AI提示词-补充：
  > 导出需兼容大数据量，结果展示需支持高亮与筛选。
- 验收标准：
  - 支持多格式导出与详情展示
  - 结果筛选、分页、导出交互流畅
  - 测试用例覆盖主要场景
- 注意事项：
  - 导出性能与数据准确性需保障

### TASK009 相关文档与验收
- 版本：0.4
- 状态：❌ 计划中
- 子任务：
  - ❌ API接口文档完善
  - ❌ 用户操作手册与开发文档
  - ❌ 端到端验收测试
  - ❌ 版本Checklist与自查
- AI提示词-原：
  > 补全所有API、功能、操作文档，完成端到端验收测试与Checklist自查。
- AI提示词-补充：
  > 文档需结构清晰、示例完整，Checklist需与实际实现逐项核对。
- 验收标准：
  - 文档完整、结构清晰
  - 验收测试通过
  - Checklist自查无遗漏
- 注意事项：
  - 文档需持续维护，验收标准需与实际实现同步

Checklist:
1. [❓ 端口扫描后端与API实现 - 架构存在，执行逻辑待完善（25%）]
2. [❌ 端口扫描前端服务与页面 - 计划中]
3. [❌ 漏洞扫描后端与API实现 - 仅有架构框架（15%）]
4. [❌ 漏洞扫描插件机制与前端 - 计划中]
5. [❓ 子域名枚举后端与API实现 - 架构完整，执行逻辑部分实现（30%）]
6. [❌ 子域名枚举前端服务与页面 - 计划中]
7. [❌ 统一任务调度与进度管理 - 依赖v0.3任务系统完成]
8. [❌ 结果展示与导出 - 计划中]
9. [❌ 相关文档与验收 - 计划中] 