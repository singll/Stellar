# 版本0.5开发计划：插件系统、监控、敏感信息检测

## 版本目标
- 实现分布式插件系统，支持多语言插件的注册、安装、启用、禁用、配置、卸载、市场管理等，兼容原ScopeSentry插件管理能力。
- 实现页面监控模块，支持监控任务的创建、快照、变更检测、通知推送等，兼容原有监控功能。
- 实现敏感信息检测模块，支持规则、规则组、白名单、检测任务、检测结果等全流程，兼容原有敏感信息检测能力。
- 前端实现对应的API服务封装、管理页面、类型定义、错误处理、测试与文档，确保功能完整、交互友好、类型安全。

---

## 任务Checklist

### TASK001 插件系统全栈实现
- 版本：0.5
- 状态：计划中
- 子任务：
  - ❌ 后端插件API接口补全与测试（/api/v1/plugins/*）
  - ❌ 前端API服务封装（web/src/lib/api/plugin.ts）
  - ❌ 前端插件管理页面开发（web/src/routes/(app)/plugins/）
  - ❌ 类型定义与错误处理（前后端同步）
  - ❌ 插件市场/多格式支持/沙箱机制完善
  - ❌ 单元测试与端到端测试
  - ❌ 文档与开发指南补全
- AI提示词-原：
  > 你需要实现分布式插件系统，支持Go、Python、YAML等多种插件格式，具备注册、安装、启用、禁用、配置、卸载、市场管理等能力。API需RESTful，前端需实现管理页面与API服务，类型定义需同步，错误处理需统一，测试与文档需完善。
- AI提示词-补充：
  > 1. 后端API需覆盖插件全生命周期，支持多条件筛选、市场插件、类型、分类等。
  > 2. 前端API服务需复用axios-config，页面需支持插件列表、详情、安装、启用、禁用、配置、卸载、市场浏览等。
  > 3. 类型定义需与后端结构体同步，错误需抛出APIError。
  > 4. 测试需覆盖主要分支，文档需包含开发、使用、扩展说明。
- 验收标准：
  - 插件API接口功能完整，单元测试覆盖主要分支
  - 前端页面交互流畅，类型安全，错误提示清晰
  - 支持多格式插件，沙箱机制安全
  - 文档与开发指南完善
- 注意事项：
  - 禁止在前端store中直接调用API
  - API服务需复用唯一axios实例
  - 类型定义需与后端同步
  - 测试与文档需同步推进

---

### TASK002 页面监控模块全栈实现
- 版本：0.5
- 状态：计划中
- 子任务：
  - ❌ 后端监控API接口补全与测试（/api/v1/monitoring/*）
  - ❌ 前端API服务封装（web/src/lib/api/monitoring.ts）
  - ❌ 前端监控管理页面开发（web/src/routes/(app)/monitoring/）
  - ❌ 类型定义与错误处理（前后端同步）
  - ❌ 快照、变更、通知等功能完善
  - ❌ 单元测试与端到端测试
  - ❌ 文档与开发指南补全
- AI提示词-原：
  > 你需要实现页面监控模块，支持监控任务的创建、快照、变更检测、通知推送等。API需RESTful，前端需实现管理页面与API服务，类型定义需同步，错误处理需统一，测试与文档需完善。
- AI提示词-补充：
  > 1. 后端API需覆盖监控任务、快照、变更、差异、通知等。
  > 2. 前端API服务需复用axios-config，页面需支持监控任务列表、详情、快照、变更、通知等。
  > 3. 类型定义需与后端结构体同步，错误需抛出APIError。
  > 4. 测试需覆盖主要分支，文档需包含开发、使用、扩展说明。
- 验收标准：
  - 监控API接口功能完整，单元测试覆盖主要分支
  - 前端页面交互流畅，类型安全，错误提示清晰
  - 支持快照、变更、通知等功能
  - 文档与开发指南完善
- 注意事项：
  - 禁止在前端store中直接调用API
  - API服务需复用唯一axios实例
  - 类型定义需与后端同步
  - 测试与文档需同步推进

---

### TASK003 敏感信息检测模块全栈实现
- 版本：0.5
- 状态：计划中
- 子任务：
  - ❌ 后端敏感信息API接口补全与测试（/api/v1/sensitive/*）
  - ❌ 前端API服务封装（web/src/lib/api/sensitive.ts）
  - ❌ 前端敏感信息管理页面开发（web/src/routes/(app)/sensitive/）
  - ❌ 类型定义与错误处理（前后端同步）
  - ❌ 规则、规则组、白名单、检测任务、检测结果等功能完善
  - ❌ 单元测试与端到端测试
  - ❌ 文档与开发指南补全
- AI提示词-原：
  > 你需要实现敏感信息检测模块，支持规则、规则组、白名单、检测任务、检测结果等全流程。API需RESTful，前端需实现管理页面与API服务，类型定义需同步，错误处理需统一，测试与文档需完善。
- AI提示词-补充：
  > 1. 后端API需覆盖规则、规则组、白名单、检测任务、检测结果等。
  > 2. 前端API服务需复用axios-config，页面需支持敏感信息规则、检测任务、结果管理等。
  > 3. 类型定义需与后端结构体同步，错误需抛出APIError。
  > 4. 测试需覆盖主要分支，文档需包含开发、使用、扩展说明。
- 验收标准：
  - 敏感信息API接口功能完整，单元测试覆盖主要分支
  - 前端页面交互流畅，类型安全，错误提示清晰
  - 支持规则、规则组、白名单、检测任务、检测结果等功能
  - 文档与开发指南完善
- 注意事项：
  - 禁止在前端store中直接调用API
  - API服务需复用唯一axios实例
  - 类型定义需与后端同步
  - 测试与文档需同步推进

---

Checklist:
1. [插件系统全栈实现]
2. [页面监控模块全栈实现]
3. [敏感信息检测模块全栈实现] 